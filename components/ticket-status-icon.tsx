"use client";

import { StopCircleIcon } from "lucide-react";

interface TicketStatusIconProps {
  status: string;
  className?: string;
}

function statusIcon(input: string, className?: string) {
  const normalized = input.toLowerCase().replace(/-/g, "_");
  const cn = className ?? "size-4 aspect-square";

  switch (normalized) {
    case "on_hold":
    case "pending":
    case "backlog":
      return (
        <svg
          className={cn}
          width="262"
          height="289"
          viewBox="0 0 262 289"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden
        >
          <title>On hold / Pending</title>
          <path
            d="M168.234 70.348L137.561 128.155C135.13 132.707 128.666 132.53 126.488 127.854L99.8697 71.0291C87.4342 44.3731 106.793 11.8854 136.305 13.3745C164.441 14.8285 181.627 45.0885 168.234 70.348Z"
            fill="#7f7f7f"
          />
          <path
            d="M213.672 141.842L148.239 140.84C143.08 140.747 140.296 134.911 143.467 130.843L181.951 81.2791C200.027 58.0742 237.765 60.5257 249.871 87.482C261.382 113.196 242.259 142.271 213.672 141.842Z"
            fill="#7f7f7f"
          />
          <path
            d="M176.309 213.396L143.139 156.985C140.535 152.53 144.073 147.116 149.196 147.71L211.544 154.807C240.764 158.179 258.295 191.689 241.566 216.047C225.587 239.25 190.809 238.037 176.309 213.396Z"
            fill="#7f7f7f"
          />
          <path
            d="M98.2886 220.563L126.701 161.612C128.954 156.97 135.42 156.897 137.778 161.484L166.575 217.236C180.033 243.391 161.946 276.604 132.399 276.258C104.228 275.894 85.8835 246.322 98.2886 220.563Z"
            fill="#7f7f7f"
          />
          <path
            d="M49.6436 157.885L114.685 150.665C119.815 150.109 123.31 155.55 120.674 159.984L88.717 213.987C73.6978 239.278 35.9499 241.583 20.5556 216.36C5.90786 192.295 21.2288 161.049 49.6436 157.885Z"
            fill="#7f7f7f"
          />
          <path
            d="M85.2065 78.6501L121.317 133.226C124.153 137.537 120.907 143.13 115.759 142.808L53.1231 139.022C23.7654 137.202 4.48494 104.668 19.9013 79.4578C34.6285 55.4407 69.4227 54.8114 85.2065 78.6501Z"
            fill="#7f7f7f"
          />
        </svg>
      );
    case "suspended":
      return (
        <svg
          className={cn}
          width="672"
          height="672"
          viewBox="0 0 672 672"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden
        >
          <title>Suspended</title>
          <path
            d="M335.37 0C149.95 0 0 150.42 0 335.36C0 520.78 149.94 671.2 335.37 671.2C520.79 671.2 671.21 520.78 671.21 335.36C671.21 150.42 520.79 0 335.37 0ZM335.37 595.04C192.05 595.04 75.68 479.15 75.68 335.36C75.68 192.04 192.04 75.68 335.37 75.68C479.16 75.68 595.53 192.04 595.53 335.36C595.53 479.16 479.17 595.04 335.37 595.04Z"
            fill="#7A7ADD"
          />
          <path
            d="M458.982 417.29C470.012 428.73 470.012 447.12 458.982 458.56C447.542 470 428.742 470 417.712 458.56L335.582 376.43L253.452 458.56C242.422 470 224.032 470 212.182 458.56C206.872 452.43 203.602 445.48 203.602 437.72C203.602 430.37 206.872 423.01 212.182 417.29L294.312 335.57L212.182 253.44C201.152 242 201.152 223.61 212.182 212.17C218.312 206.45 225.662 203.59 233.022 203.59C240.382 203.59 248.142 206.45 253.452 212.17L335.582 294.3L417.712 212.17C428.742 200.73 447.542 200.73 458.982 212.17C464.292 217.89 467.562 225.65 467.562 233.01C467.562 240.37 464.292 247.72 458.982 253.44L376.852 335.57L458.982 417.29Z"
            fill="#7A7ADD"
          />
        </svg>
      );
    case "seen":
    case "archived":
      return <div className="size-3 rounded-full bg-blue-500" role="img" aria-label="Seen" />;
    case "open":
    case "active":
      return <div className="size-3 rounded-full bg-yellow-500" role="img" aria-label="Open" />;
    case "in_progress":
    case "running":
      return (
        <svg
          className={cn}
          width="672"
          height="672"
          viewBox="0 0 672 672"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden
        >
          <title>In progress</title>
          <path
            d="M335.758 0.400391C150.338 0.400391 0.398438 150.82 0.398438 335.77C0.398438 521.19 150.338 671.61 335.758 671.61C521.178 671.61 671.598 521.19 671.598 335.77C671.598 150.82 521.178 0.400391 335.758 0.400391ZM335.758 595.45C192.438 595.45 76.0784 479.56 76.0784 335.77C76.0784 192.45 192.438 76.0904 335.758 76.0904C479.558 76.0904 595.918 192.45 595.918 335.77C595.918 479.56 479.558 595.45 335.758 595.45Z"
            fill="#0000FF"
          />
          <path
            d="M505.239 335.761C505.239 429.421 429.559 505.571 335.899 505.571C242.239 505.571 166.559 429.421 166.559 335.761H335.899V166.891C429.559 166.891 505.239 242.571 505.239 335.761Z"
            fill="#0000FF"
          />
        </svg>
      );
    case "closed":
    case "completed":
    case "resolved":
      return (
        <svg
          className={cn}
          width="672"
          height="672"
          viewBox="0 0 672 672"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden
        >
          <title>Closed / Completed</title>
          <path
            d="M335.761 0.400391C150.341 0.400391 0.390625 150.82 0.390625 335.76C0.390625 521.18 150.331 671.6 335.761 671.6C521.181 671.6 671.601 521.18 671.601 335.76C671.601 150.82 521.181 0.400391 335.761 0.400391ZM335.761 595.44C192.441 595.44 76.0706 479.55 76.0706 335.76C76.0706 192.44 192.431 76.0804 335.761 76.0804C479.551 76.0804 595.921 192.44 595.921 335.76C595.921 479.56 479.561 595.44 335.761 595.44Z"
            fill="#00A86B"
          />
          <path
            d="M505.102 335.76C505.102 382.59 486.182 424.69 455.432 455.43C439.822 471.04 421.852 483.34 401.512 491.85C381.172 500.83 358.942 505.57 335.762 505.57C312.582 505.57 290.352 500.84 270.012 491.85C249.672 483.33 231.702 471.04 216.092 455.43C185.342 424.68 166.422 382.58 166.422 335.76C166.422 242.1 242.102 166.42 335.762 166.42C382.592 166.42 425.162 185.34 455.432 216.56C486.182 246.84 505.102 288.93 505.102 335.76Z"
            fill="#00A86B"
          />
        </svg>
      );
    case "inactive":
      return <StopCircleIcon className={`${cn} text-red-500`} aria-hidden />;
    default:
      return <div className="size-3 rounded-full bg-gray-500" role="img" aria-label={input || "Status"} />;
  }
}

export function TicketStatusIcon({ status, className }: TicketStatusIconProps) {
  return statusIcon(status, className);
}
